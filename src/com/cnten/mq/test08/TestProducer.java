package com.cnten.mq.test08;

import java.net.Socket;
import java.util.Date;

import org.apache.activemq.transport.stomp.StompConnection;

public class TestProducer {
	public static void main(String[] args) {
        try {
            // 建立Stomp协议的连接
            StompConnection con = new StompConnection();
            Socket so = new Socket("127.0.0.1", 61613);
            con.open(so);
            // 注意，协议版本可以是1.2，也可以是1.1
            con.setVersion("1.2");
            // 用户名和密码，这个不必多说了
            con.connect("admin", "admin");

            // 以下发送一条信息（您也可以使用“事务”方式）
            con.send("/test", "234543" + new Date().getTime());
        } catch(Exception e) {
            e.printStackTrace(System.out);
        }
    }
}
